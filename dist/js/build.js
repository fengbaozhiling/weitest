!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1)},function(e,t,n){var i=n(2);i.attach(document.body);var r=n(3);new r,Backbone.history.start()},function(e,t,n){var i;!function(){"use strict";function r(e,t){function n(e,t){return function(){return e.apply(t,arguments)}}var i;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!r.notNeeded(e)){for(var s=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],o=this,c=0,l=s.length;l>c;c++)o[s[c]]=n(o[s[c]],o);a&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,i){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,n.hijacked||n,i):r.call(e,t,n,i)},e.addEventListener=function(t,n,i){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):r.call(e,t,n,i)}),"function"==typeof e.onclick&&(i=e.onclick,e.addEventListener("click",function(e){i(e)},!1),e.onclick=null)}}var s=navigator.userAgent.indexOf("Windows Phone")>=0,a=navigator.userAgent.indexOf("Android")>0&&!s,o=/iP(ad|hone|od)/.test(navigator.userAgent)&&!s,c=o&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=o&&/OS [6-7]_\d/.test(navigator.userAgent),d=navigator.userAgent.indexOf("BB10")>0;r.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(o&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},r.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},r.prototype.sendClick=function(e,t){var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},r.prototype.determineEventType=function(e){return a&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},r.prototype.focus=function(e){var t;o&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},r.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},r.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},r.prototype.onTouchStart=function(e){var t,n,i;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],o){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!c){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},r.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},r.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},r.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},r.prototype.onTouchEnd=function(e){var t,n,i,r,s,d=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(s=e.changedTouches[0],d=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||d,d.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=d.tagName.toLowerCase(),"label"===i){if(t=this.findControl(d)){if(this.focus(d),a)return!1;d=t}}else if(this.needsFocus(d))return e.timeStamp-n>100||o&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(d),this.sendClick(d,e),o&&"select"===i||(this.targetElement=null,e.preventDefault()),!1);return o&&!c&&(r=d.fastClickScrollParent,r&&r.fastClickLastScrollTop!==r.scrollTop)?!0:(this.needsClick(d)||(e.preventDefault(),this.sendClick(d,e)),!1)},r.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},r.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:!e.cancelable||this.needsClick(this.targetElement)&&!this.cancelNextClick?!0:(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0},r.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},r.prototype.destroy=function(){var e=this.layer;a&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},r.notNeeded=function(e){var t,n,i,r;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(d&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction?!0:!1)},r.attach=function(e,t){return new r(e,t)},i=function(){return r}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}()},function(e,t,n){var i=n(4),r=n(5),s=n(11),a=n(13),o=n(22),c=n(24),l=n(26),d=n(28),u=n(44),h=n(47),p=n(49),v=n(51),f=n(54),m=n(57),g=n(60),b=n(63),w=n(68),k=n(70),x=n(73),y=n(75),C=n(77),_=n(79),T=n(84);e.exports=Backbone.Router.extend({routes:{"":"list",index:"list",welcome:"welcome",pay:"pay",list:"list",reward:"reward","reward/:page":"reward",reward_rules:"rewardRules",jiaochen:"jiaochen","jiaochen/qcode":"jiaochenQcode",qcode:"qcode",tool:"tool","tool/:id":"toolDetail",apprentices:"apprentices","apprentices/:page":"apprentices",qcode_upload:"qcodeUpload",chat:"chat",withdraw:"withdraw",withdraw_list:"withdraw_list","withdraw_list/:page":"withdraw_list",rank:"rank","rank/:period":"rank",official_accounts:"officialAccounts","official_accounts/:id":"officialAccountsDetail",placard:"placard","placard/:group":"placard",placard_welcome:"placardWelcome"},cacheInitialize:function(){i.initialize(function(){var e={};return e.welcomeView=new s,e.payView=new r,e.rewardView=new a,e.rewardRulesView=new o,e.listView=new d,e.jcView=new c,e.jcQcView=new l,e.qcode=new v,e.qcodeUpload=new m,e.toolView=new u,e.withdraw=new f,e.indexView=new p,e.apprenticesView=new g,e.chatView=new b,e.menuView=new w,e.withdrawList=new k,e.toolDetailView=new h,e.rankView=new x,e.officialAccountsView=new y,e.officialAccountsDtail=new C,e.placardView=new _,e.placardWelcome=new T,e}),this.cached=i.get()},initialize:function(){this.cacheInitialize()},index:function(){this.cached.indexView.render(),this.cached.indexView.$el.addClass("block").siblings().removeClass("block")},placard:function(e){var e=e?e:"myteam";this.cached.placardView.render(),this.cached.placardView.placardModel.fetch({data:{group:e}}),this.cached.placardView.cashModel.fetch(),this.cached.placardView.$el.addClass("block").siblings().removeClass("block")},placardWelcome:function(){this.cached.placardWelcome.render(),this.cached.placardWelcome.$el.addClass("block").siblings().removeClass("block")},officialAccounts:function(){this.cached.officialAccountsView.render(),this.cached.officialAccountsView.model.fetch(),this.cached.officialAccountsView.$el.addClass("block").siblings().removeClass("block")},officialAccountsDetail:function(){this.cached.officialAccountsDtail.parent=this.cached.officialAccountsView,this.cached.officialAccountsDtail.render()},rank:function(e){var e=e?e:"all";this.cached.rankView.rankModel.fetch({data:{period:e}}),this.cached.rankView.render(),this.cached.rankView.$el.addClass("block").siblings().removeClass("block")},welcome:function(){this.cached.welcomeView.render(),this.cached.welcomeView.$el.addClass("block").siblings().removeClass("block")},withdraw:function(){this.cached.withdraw.cashModel.fetch(),this.cached.withdraw.render(),this.cached.withdraw.$el.addClass("block").siblings().removeClass("block")},withdraw_list:function(e){var e=e?e:1;this.cached.withdrawList.withModel.fetch({data:{p:e}}),this.cached.withdrawList.render(),this.cached.withdrawList.$el.addClass("block").siblings().removeClass("block")},pay:function(){this.cached.payView.render(),this.cached.payView.$el.addClass("block").siblings().removeClass("block")},reward:function(e){var e=e?e:1;this.cached.rewardView.model.fetch({data:{p:e}}),this.cached.rewardView.render(),this.cached.rewardView.userInfo.fetch(),this.cached.rewardView.$el.addClass("block").siblings().removeClass("block")},rewardRules:function(){this.cached.rewardRulesView.render(),this.cached.rewardRulesView.$el.addClass("block").siblings().removeClass("block")},list:function(){this.cached.listView.model.fetch(),this.cached.listView.userInfo.fetch(),this.cached.listView.$el.addClass("block").siblings().removeClass("block"),this.cached.menuView.render()},jiaochen:function(){this.cached.jcView.render(),this.cached.jcView.$el.addClass("block").siblings().removeClass("block")},jiaochenQcode:function(){this.cached.jcQcView.render(),this.cached.jcQcView.$el.addClass("block").siblings().removeClass("block")},qcode:function(){this.cached.qcode.render(),this.cached.qcode.model.fetch(),this.cached.qcode.$el.addClass("block").siblings().removeClass("block")},qcodeUpload:function(){this.cached.qcodeUpload.model.fetch(),this.cached.qcodeUpload.$el.addClass("block").siblings().removeClass("block")},tool:function(){this.cached.toolView.render(),this.cached.toolView.$el.addClass("block").siblings().removeClass("block")},toolDetail:function(e){this.cached.toolDetailView.$el.empty(),this.cached.toolDetailView.render(),this.cached.toolDetailView.model.fetch({data:{id:e}}),this.cached.toolDetailView.$el.addClass("block").siblings().removeClass("block")},apprentices:function(e){var e=e?e:1;this.cached.apprenticesView.render(),this.cached.apprenticesView.model.fetch({data:{p:e}}),this.cached.apprenticesView.$el.addClass("block").siblings().removeClass("block")},chat:function(){this.cached.chatView.render(),this.cached.chatView.$el.addClass("block").siblings().removeClass("block")}})},function(e,t){var n=function(){return this.flag={},this.flag.init=!1,this};n.prototype.initialize=function(e){return this.flag.init||(this.flag.init=!0,this.data=e()),this},n.prototype.get=function(e){return"undefined"==typeof e?this.data:this.data[e]},e.exports=new n},function(e,t,n){var i=n(6),r=n(7),s=n(9),a=n(10);e.exports=Backbone.View.extend({el:$("#viewMain"),template:i.template(a),tagName:"div",events:{"click #buyBao":"_buy"},_buy:function(e){var t=this,n=$("#buyBaoForm"),i=$.trim(n.find('input[name="weixin"]').val());if(""!=i)return t.firstBuy&&($(e.target).html("请求中...").addClass("disabled"),t.firstBuy=!1,$.ajax({url:r.getVip,data:"weixin="+i,method:"POST",success:function(n){if(t.firstBuy=!0,$(e.target).html("立即购买").removeClass("disabled"),0!==n.status)n.url&&(window.location=n.url);else var i=new s({content:n.info,title:!1,time:!1,ok:function(){i.close()}})}})),!1;var a=new s({content:"微信号必须填写",title:!1,time:!1,ok:function(){a.close()}})},initialize:function(){this.firstBuy=!0},_getFansCount:function(){$.ajax({url:r.getFansCount,success:function(e){console.log(e);var t='<div class="fansCount"><span>已有'+e.content+"人加入我们！</span></div>";$("#payView > .top-banner").append(t)}})},render:function(){var e=this;return e.$el.html(e.template()),e._getFansCount(),this}})},function(e,t,n){var i;!function(){"use strict";function r(e,t,n){return("string"==typeof t?t:t.toString()).replace(e.define||l,function(t,i,r,s){return 0===i.indexOf("def.")&&(i=i.substring(4)),i in n||(":"===r?(e.defineParams&&s.replace(e.defineParams,function(e,t,r){n[i]={arg:t,text:r}}),i in n||(n[i]=s)):new Function("def","def['"+i+"']="+s)(n)),""}).replace(e.use||l,function(t,i){e.useParams&&(i=i.replace(e.useParams,function(e,t,i,r){if(n[i]&&n[i].arg&&r){var s=(i+":"+r).replace(/'|\\/g,"_");return n.__exp=n.__exp||{},n.__exp[s]=n[i].text.replace(new RegExp("(^|[^\\w$])"+n[i].arg+"([^\\w$])","g"),"$1"+r+"$2"),t+"def.__exp['"+s+"']"}}));var s=new Function("def","return "+i)(n);return s?r(e,s,n):s})}function s(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var a,o={version:"1.0.3",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0};o.encodeHTMLSource=function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(n,function(e){return t[e]||e}):""}},a=function(){return this||(0,eval)("this")}(),"undefined"!=typeof e&&e.exports?e.exports=o:(i=function(){return o}.call(t,n,t,e),!(void 0!==i&&(e.exports=i)));var c={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},l=/$^/;o.template=function(e,t,n){t=t||o.templateSettings;var i,d,u=t.append?c.append:c.split,h=0,p=t.use||t.define?r(t,e,n||{}):e;p=("var out='"+(t.strip?p.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):p).replace(/'|\\/g,"\\$&").replace(t.interpolate||l,function(e,t){return u.start+s(t)+u.end}).replace(t.encode||l,function(e,t){return i=!0,u.startencode+s(t)+u.end}).replace(t.conditional||l,function(e,t,n){return t?n?"';}else if("+s(n)+"){out+='":"';}else{out+='":n?"';if("+s(n)+"){out+='":"';}out+='"}).replace(t.iterate||l,function(e,t,n,i){return t?(h+=1,d=i||"i"+h,t=s(t),"';var arr"+h+"="+t+";if(arr"+h+"){var "+n+","+d+"=-1,l"+h+"=arr"+h+".length-1;while("+d+"<l"+h+"){"+n+"=arr"+h+"["+d+"+=1];out+='"):"';} } out+='"}).replace(t.evaluate||l,function(e,t){return"';"+s(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),i&&(t.selfcontained||!a||a._encodeHTML||(a._encodeHTML=o.encodeHTMLSource(t.doNotSkipEncoded)),p="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+o.encodeHTMLSource.toString()+"("+(t.doNotSkipEncoded||"")+"));"+p);try{return new Function(t.varname,p)}catch(v){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+p),v}},o.compile=function(e,t){return o.template(e,null,t)}}()},function(e,t,n){var i=n(8).server;e.exports={list:i?globConfig.host+"index.php?s=/Weifans/index/lists":demoConfig.host+"lists",socketHorn:i?globConfig.socketHorn:demoConfig.host,addEnergy:i?globConfig.host+"index.php?s=/Weifans/index/add_energy":globConfig.host+"index.php?s=/Weifans/index/add_energy",userInfo:i?globConfig.host+"index.php?s=/Weifans/index/user_info":demoConfig.host+"user_info",queue:i?globConfig.host+"index.php?s=/Weifans/index/queue":globConfig.host+"index.php?s=/Weifans/index/queue",soldNote:i?globConfig.host+"index.php?s=/Weifans/index/sold_note":demoConfig.host+"sold_note",apprentices:i?globConfig.host+"index.php?s=/Weifans/index/apprentices":globConfig.host+"index.php?s=/Weifans/index/apprentices",tool:i?globConfig.host+"index.php?s=/Weifans/index/tool":globConfig.host+"index.php?s=/Weifans/index/tool",uploadQrcode:i?globConfig.host+"index.php?s=/Weifans/index/upload_qrcode":globConfig.host+"index.php?s=/Weifans/index/upload_qrcode",getVip:i?globConfig.host+"index.php?s=/Weifans/index/get_vip":globConfig.host+"index.php?s=/Weifans/index/get_vip",getQrcode:i?globConfig.host+"index.php?s=/Weifans/weixin/get_qrcode":globConfig.host+"index.php?s=/Weifans/weixin/get_qrcode",getFansCount:i?globConfig.host+"/index.php?s=/Weifans/Weixin/get_fans_count":globConfig.host+"/index.php?s=/Weifans/Weixin/get_fans_count",perfectInfo:i?globConfig.host+"/index.php?s=/Weifans/index/perfect_info":globConfig.host+"/index.php?s=/Weifans/index/perfect_info",withdraw:i?globConfig.host+"/index.php?s=/Weifans/index/perfect_info":demoConfig.host+"withdraw",cash:i?globConfig.host+"/index.php?s=/Weifans/index/perfect_info":demoConfig.host+"cash",withdrawList:i?globConfig.host+"/index.php?s=/Weifans/index/perfect_info":demoConfig.host+"withdraw_list",rank:i?globConfig.host+"/index.php?s=/Weifans/index/perfect_info":demoConfig.host+"rank",official_accounts:i?globConfig.host+"/index.php?s=/Weifans/index/perfect_info":demoConfig.host+"official_accounts",placard_rank:i?globConfig.host+"/index.php?s=/Weifans/index/perfect_info":demoConfig.host+"placard_rank",placard_cash:i?globConfig.host+"/index.php?s=/Weifans/index/placard_cash":demoConfig.host+"placard_cash",secret_code:i?globConfig.host+"/index.php?s=/Weifans/Weiplist/game_login":demoConfig.host+"secret_code"}},function(e,t){e.exports={server:!1,version:"1.0.0"}},function(e,t){var n={},i=$(window),r=($(document),$(document.body)),s=(new Date).getTime(),n=function(e){this.options={title:"确定ʾ",content:"内容",ok:null,cancel:null,close:null,time:1500,isClose:!0,closeCb:null,maskClose:!0,offsetTop:0,zIndex:999,callBack:null},this.id=s,this._init(e)._create()._event()._position()};n.prototype={_init:function(e){$.extend(this.options,e);var t={ok:this.options.ok,cancel:this.options.cancel},n={ok:"确定",cancel:"取消"},i=function(e){return null!==e&&"object"==typeof e};return i(t.ok)&&!t.ok.value?this.options.ok.value=n.ok:$.isFunction(t.ok)&&(this.options.ok={value:n.ok,fn:t.ok}),i(t.cancel)&&!t.cancel.value?this.options.cancel=n.cancel:$.isFunction(t.cancel)&&(this.options.cancel={value:n.cancel,fn:t.cancel}),this},_create:function(){this.options.id&&(s=this.options.id);var e="",t=this.options.title,n=this.options.ok,i=this.options.cancel,a=this.options.isClose;return this._id=s,e='<div id="l'+s+'" class="dialog-layout" style="z-index:'+this.options.zIndex+'"></div>',e+='<div id="d'+s+'" class="dialog-wrap" style="z-index:'+(this.options.zIndex+1)+'">',e+='<div class="dialog">',t&&(e+='<div id="t'+s+'" class="d-title" unselectable="on">',e+="<span>"+this.options.title+"</span>",a&&(e+='<span id="c'+s+'" class="d-close" type="button" title="关闭"><i class="iconfont icon-guanbi"></i></span>'),e+="</div>"),e+='<div class="d-content d-bg">',e+=this.options.content?'<div class="d-c-p">'+this.options.content+"</d>":'<div class="d-c-p">没有内容</div>',e+="</div>",(n||i)&&(e+='<div class="d-bottom d-bg">',n&&(e+='<a id="ob'+s+'" class="d-ok d-btn" title="'+this.options.ok.value+'">'+this.options.ok.value+"</button>"),i&&(e+='<a id="cb'+s+'" class="d-cancle d-btn" title="'+this.options.cancel.value+'">'+this.options.cancel.value+"</button>"),e+="</div>",e+="</div>"),e+="</div>",r.append(e),this},_position:function(){var e=$("#d"+this._id),t=(i.width()-e.width())/2,n=(i.height()-e.height())/4,n=n-this.options.offsetTop;e.css({left:t,top:n>0?n:0});var r=this.options.init;return r&&"function"==typeof r&&r(),this},_event:function(){var e=this,t=this._id,n=this.options.title,i=this.options.ok,r=this.options.cancel,s=this.options.isClose,a=null,o=null;return this._close=function(){$(this).unbind("click"),i&&a.unbind("click"),r&&o.unbind("click"),e.options.closeCb&&e.options.closeCb(),e._remove()},n?($("#t"+t).css("cursor","default"),s&&$("#c"+t).on("click",e._close)):e.options.time&&setTimeout(function(){e._remove()},e.options.time),i&&(a=$("#ob"+t).click(function(){return e.options.ok.fn&&e.options.ok.fn(),!1})),r&&(o=$("#cb"+t).click(function(){return e.options.cancel.fn&&e.options.cancel.fn(),!1})),e.options.maskClose&&$("#l"+t).click(function(){return e._remove(),!1}),this},_remove:function(){var e=this._id,t=document.getElementById("l"+e),n=document.getElementById("d"+e);n&&document.body.removeChild(n),t&&document.body.removeChild(t)},close:function(){this._close&&this._close.call(document.getElementById("c"+this._id))},show:function(){}},e.exports=n},function(e,t){e.exports='<div id="payView">\r\n    <div class="top-banner">\r\n        <img class="img-responsive" src="{{=globConfig.imageUrl}}/3.jpg">\r\n    </div>\r\n    <div class="za-container">\r\n        <br>\r\n        <div class="text-danger">对不起，您还不是会员，付费后才能使用！</div>\r\n        <br>\r\n        <div class="za-alert za-alert-warning">\r\n            付费后您能同时获得我们的代理资格！<br>\r\n            (此服务有效期为1年，以购买之日起生效！)\r\n        </div>\r\n        <div class="input-group">\r\n            服务费共计：<span class="text-danger">25元</span>\r\n        </div>\r\n        <div id="buyBaoForm" class="form-group">\r\n            <div class="input-group input-group-sm">\r\n                <span class="input-group-addon" id="sizing-addon1">微信号</span>\r\n                <input id="weixin" name="weixin" type="text" class="form-control" placeholder="微信号">\r\n            </div>\r\n            <div>\r\n                <button id="buyBao" class="za-btn za-btn-primary za-btn-block">立即购买</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <br>\r\n</div>'},function(e,t,n){var i=n(6),r=n(12);e.exports=Backbone.View.extend({el:$("#viewMain"),template:i.template(r),tagName:"div",events:{},initialize:function(){},render:function(){var e=this;return e.$el.addClass("block").html(e.template()),e.$el.siblings().removeClass("block"),this}})},function(e,t){e.exports='<div id="welcomeView">\r\n    <div class="za-container">\r\n        <div>\r\n            <img class="img-responsive" src="{{=globConfig.imageUrl}}/moneys.jpg">\r\n        </div>\r\n        <div class="text-center">\r\n            <h2 class="text-danger">恭喜！开通成功！</h2>\r\n            <p class="za-alert za-alert-info">\r\n                成为代理，推荐好友，您可以获得相应的佣金，立即 <a href="">查看详情</a>\r\n            </p>\r\n        </div>\r\n        <div>\r\n            <button class="za-btn za-btn-primary za-btn-block">我知道了</button>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){var i=n(6),r=(n(9),n(7),n(14)),s=n(17),a=n(19),o=n(20),c=n(21);e.exports=Backbone.View.extend({el:"#rewardView",template:i.template(c),tagName:"div",events:{"click .pull-down":function(e){var t=e.target,n=$(t).parents(".pull-down").attr("pannel");$(t).removeClass("alert-animate"),$("[pannel-target="+n+"]").hasClass("show")?$("[pannel-target="+n+"]").removeClass("show"):$("[pannel-target="+n+"]").addClass("show")},"click #drawMoney":"_drawMoney"},_drawMoney:function(){window.location="#withdraw"},initialize:function(){var e=this;e.headView={},e.userInfo=new a,e.model=new o,e.listenTo(e.userInfo,"sync",this._renderHead),e.listenTo(e.model,"change",this.render)},_renderHead:function(){var e=this;e.headView.userInfo=e.userInfo.toJSON(),e.headView.soldNote=e.model.toJSON();var t=new s;e.$el.find("#headView").html(t.template(e.headView))},render:function(){var e=new r,t=this;return t.$el.addClass("block"),t.$el.siblings().removeClass("block"),t.$el.find("#recordView").html(t.template(t.model.toJSON())),t.$el.append(e.render().template()),e.footBarCrent(".footer-bar a"),this}})},function(e,t,n){var i=n(6),r=n(15),s=n(16);e.exports=Backbone.View.extend({template:i.template(s),tagName:"div",initialize:function(){this.footBarCrent=r},render:function(){return this}})},function(e,t){e.exports=function(e){var t=location.hash;$(e).removeClass("on"),$(e).attr("href")?$(e).filter('[href="'+t+'"]').addClass("on"):$(e).filter('[nav="'+t+'"]').addClass("on"),0==$(e).filter(".on").length&&$(e).eq(0).addClass("on")}},function(e,t){e.exports='<div class="footer-bar">\r\n    <a class="qcode" href="#qcode">推广海报</a>\r\n    <a href="#reward">我的账户</a>\r\n</div>'},function(e,t,n){var i=n(6),r=n(18);e.exports=Backbone.View.extend({template:i.template(r),tagName:"div",initialize:function(){},render:function(){return this}})},function(e,t){e.exports='<div class="header">\r\n    <div class="za-media">\r\n        <div class="za-media-left head-face">\r\n            <img class="media-object" src="{{=it.userInfo.headimgurl}}">\r\n        </div>\r\n        <div class="za-media-body">\r\n            <div class="row">\r\n                <div class="col-xs-5 text-right"><b>昵称</b></div>\r\n                <div class="col-xs-7">{{=it.userInfo.nickname}}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-5 text-right"><b>会员ID</b></div>\r\n                <div class="col-xs-7">{{=it.userInfo.id}}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-5 text-right"><b>VIP会员</b></div>\r\n                <div class="col-xs-7">\r\n                    {{? it.userInfo.is_vip == 1}}\r\n                    是\r\n                    {{??}}\r\n                    否\r\n                    {{}}}\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-5 text-right"><b>加入时间</b></div>\r\n                <div class="col-xs-7">{{=it.userInfo.time}}</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-xs-5 text-right"><b>会员级别</b></div>\r\n                <div class="col-xs-7">{{=it.userInfo.level}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="za-container">\r\n    <div class="reward-info row">\r\n        <div class="col-xs-6"><a>累计总收入<br><span>({{=it.soldNote.total_money}}积分)</span></a></div>\r\n        <div class="col-xs-6"><a>徒弟总进贡<br><span>({{=it.soldNote.suspend_money}}积分)</span></a></div>\r\n        <div class="col-xs-6"><a>消费明细</a></div>\r\n        <div class="col-xs-6"><a href="#/rank/all">排行榜</a></div>\r\n    </div>\r\n</div>\r\n<div class="za-alert za-alert-warning text-center">\r\n    <b>可提现积分 </b><br><span style="font-size: 3rem" class="text-danger">{{=it.soldNote.capable_money}}</span>\r\n    <button id="drawMoney" data-money="{{=it.soldNote.capable_money}}" class="za-btn za-btn-block za-btn-danger">我要提现</button>\r\n    仅可提现100的整数（100积分=1元）\r\n    <span pannel="info-cash" class="pull-down text-danger"><span class="iconfont icon-iconfont14 alert-animate"></span></span>\r\n    <div class="tips" pannel-target="info-cash" style="display: none">\r\n        <span class="text-danger">若可提现金额小于提现额度不能提现</span><br>\r\n        1、必须满足积分超过100分，即最低1元方可提现；<br>\r\n        2、推广的好友关注公众号即可获得一个积分红包；<br>\r\n        3、可提现结算周期为24小时，即指第二次提现申请与第一次提现申请需间隔24小时；<br>\r\n        4、您可自主提现，提现金额转到微信零钱；<br>\r\n        5、爆粉大师拥有本活动最终解释权\r\n    </div>\r\n</div>\r\n<div class="za-container">\r\n    <h3>最近三天收入</h3>\r\n    <div class="panel-list">\r\n        <div class="row">\r\n            <div class="col-xs-8">\r\n                <b>今日收入</b>\r\n            </div>\r\n            <div class="col-xs-4 text-right">\r\n                <span class="text-danger">￥&nbsp;134</span>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-xs-8">\r\n                <b>昨日收入</b>\r\n            </div>\r\n            <div class="col-xs-4 text-right">\r\n                <span class="text-danger">￥&nbsp;134</span>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-xs-8">\r\n                <b>前日收入</b>\r\n            </div>\r\n            <div class="col-xs-4 text-right">\r\n                <span class="text-danger">￥&nbsp;134</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n'},function(e,t,n){var i=n(7);e.exports=Backbone.Model.extend({defaults:function(){return{energy:"0",id:21,is_queue:!1,is_vip:1,level:"普通会员",nickname:"聊天交友，互粉互助",time:"2015-10-22"}},initialize:function(){return this},url:i.userInfo})},function(e,t,n){var i=n(7);e.exports=Backbone.Model.extend({initialize:function(){return this},url:i.soldNote})},function(e,t){e.exports='\r\n{{? !it.data}}\r\n<div class="sk-three-bounce">\r\n    <div class="sk-child sk-bounce1"></div>\r\n    <div class="sk-child sk-bounce2"></div>\r\n    <div class="sk-child sk-bounce3"></div>\r\n</div>\r\n{{?? }}\r\n<div class="za-container">\r\n    <h3>推广记录</h3>\r\n    {{? it.data.length > 0}}\r\n    <div class="panel-list">\r\n        {{ for (var key in it.data) { }}\r\n        <div class="row">\r\n            <div class="col-xs-8">\r\n                <b>{{=it.data[key].nickname}}</b>\r\n            </div>\r\n            <div class="col-xs-4 text-right">\r\n                <span class="text-danger">￥&nbsp;{{=it.data[key].money}}</span>\r\n            </div>\r\n        </div>\r\n        {{ } }}\r\n    </div>\r\n    {{? it.total_count > it.list_rows }}\r\n    <div class="text-center">\r\n        <ul class="za-page">\r\n            <li>\r\n                <a   {{? it.current_page == 1}}\r\n                     href="javascript:;"\r\n                     class="disabled"\r\n                     {{??}}\r\n                     href="#reward/{{=(parseInt(it.current_page) - 1)}}"\r\n                     {{?}} aria-label="Previous">\r\n                    <span aria-hidden="true">«</span>\r\n                </a>\r\n            </li>\r\n            {{var num = (it.total_pages < 5) ? it.total_pages : 5  ; }}\r\n            {{ for (var i=0; i < num; i++ ) { }}\r\n            {{? (parseInt(it.current_page) + i) <= it.total_pages}}\r\n            <li>\r\n                <a class="{{? it.current_page == (parseInt(it.current_page) + i) }}active{{ } }}" href="#reward/{{=(parseInt(it.current_page) + i)}}">\r\n                    {{=(parseInt(it.current_page) + i)}}\r\n                </a>\r\n            </li>\r\n            {{?}}\r\n            {{ } }}\r\n            <li>\r\n                <a {{? it.total_pages == it.current_page}}\r\n                   href="javascript:;"\r\n                   class="disabled"\r\n                   {{??}}\r\n                   href="#reward/{{=(parseInt(it.current_page) + 1)}}"\r\n                   {{?}}\r\n                   aria-label="Next">\r\n                    <span aria-hidden="true">»</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    {{ } }}\r\n\r\n    {{?? }}\r\n    <div class="za-alert za-alert-warning">暂无记录</div>\r\n    {{ } }}\r\n</div>\r\n<br><br><br>\r\n{{ } }}';
},function(e,t,n){var i=n(6),r=n(14),s=n(23);e.exports=Backbone.View.extend({el:"#viewMain",template:i.template(s),tagName:"div",initialize:function(){},render:function(){var e=new r,t=this;return t.$el.addClass("block").html(t.template()),t.$el.siblings().removeClass("block"),t.$el.append(e.render().template()),e.footBarCrent(),this}})},function(e,t){e.exports='{{? !it}}\r\n<div class="sk-three-bounce">\r\n    <div class="sk-child sk-bounce1"></div>\r\n    <div class="sk-child sk-bounce2"></div>\r\n    <div class="sk-child sk-bounce3"></div>\r\n</div>\r\n{{??}}\r\n<header>\r\n    <a class="back" href="#reward"><span class="iconfont icon-iconfont12"></span></a>\r\n    <h1>排行榜</h1>\r\n</header>\r\n<nav class="za-nav">\r\n    <a href="#/rank/all"><span>总排行</span></a>\r\n    <a href="#/rank/week"><span>周排行</span></a>\r\n    <a href="#/rank/month"><span>月排行</span></a>\r\n</nav>\r\n    {{ for (var key in it.data) { }}\r\n    <div class="za-media">\r\n        <div class="za-media-left">\r\n            <img class="media-object"\r\n                 src="{{=it.data[key].headimgurl}}">\r\n        </div>\r\n        <div class="za-media-body">\r\n            <h4 class="\r\n            {{? key <= 2 }} text-danger {{?}}\r\n            ">{{=it.data[key].nickname}}</h4>\r\n        </div>\r\n        <div class="za-media-right">\r\n            <span class="text-info">{{=it.data[key].total}}</span>\r\n        </div>\r\n    </div>\r\n    {{ } }}\r\n{{ } }}'},function(e,t,n){var i=n(6),r=n(25);e.exports=Backbone.View.extend({el:$("#viewMain"),template:i.template(r),initialize:function(){return this},render:function(){var e=this;return e.$el.addClass("block").html(e.template()),this}})},function(e,t){e.exports='<div class="scroll">\r\n    <div class="za-container">\r\n        <h3>加粉秘籍</h3>\r\n\r\n        <div class="alert-out alert-out-info">\r\n            <h4 class="text-danger">1.我要怎么加好友？</h4>\r\n                    答：点击进入爆粉大师的页面就可以逐个添加好友啦，好友列表每隔2分钟就会刷新一次\r\n            <br>\r\n            <img class="img-responsive" src="{{=globConfig.imageUrl}}/add1.jpg">\r\n            <br>\r\n            <img class="img-responsive" src="{{=globConfig.imageUrl}}/add2.jpg">\r\n\r\n        </div>\r\n        <div class="alert-out alert-out-info">\r\n            <h4 class="text-danger">2.我要怎么才能被别人添加？</h4>\r\n                    答：每手动添加一名好友就会获得一点能量值，消耗能量值2分钟之内即可以插队到下一轮队列中，系统会根据用户的能量值大小进行排序\r\n            <br>\r\n            <img class="img-responsive" src="{{=globConfig.imageUrl}}/cd1.jpg">\r\n            <img class="img-responsive" src="{{=globConfig.imageUrl}}/cd2.jpg">\r\n\r\n        </div>\r\n        <div class="alert-out alert-out-info">\r\n            <h4 class="text-danger">3.为什么我没法插队？</h4>\r\n                    答：要先发布您的二维码才可以排队哦。点击爆粉大师中的发布二维码查看具体步骤\r\n        </div>\r\n\r\n\r\n    </div>\r\n</div>'},function(e,t,n){var i=n(6),r=n(27);e.exports=Backbone.View.extend({el:$("#viewMain"),template:i.template(r),initialize:function(){return this},render:function(){var e=this;return e.$el.addClass("block").html(e.template()),this}})},function(e,t){e.exports='<div class="scroll">\r\n    <div class="za-container">\r\n        <h3>上传二维码教程</h3>\r\n        简单3步,即可完成 : )\r\n        <div class="alert-out alert-out-info">\r\n            <h4 class="text-danger">第一步  :  获取二维码</h4>\r\n            在微信下方菜单中选择“我”，点击个人信息栏，在菜单中选择“我的二维码”，点击右上角图标，选择保存图片。<br>\r\n            <img class="img-responsive" src="{{=globConfig.imageUrl}}/qcd1.jpg">\r\n        </div>\r\n        <div class="alert-out alert-out-info">\r\n            <h4 class="text-danger">第二步  :  发送二维码</h4>\r\n            将刚获取到的图片以对话的形式发送给“爆粉大师”公众号<br>\r\n            <img class="img-responsive" src="{{=globConfig.imageUrl}}/qcd2.jpg">\r\n        </div>\r\n        <div class="alert-out alert-out-info">\r\n            <h4 class="text-danger">第三步  :  确认二维码,完善信息</h4>\r\n            回到本页，根据提示，完成二维码确认，大功告成！\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){var i=n(6),r=n(9),s=(n(29),n(30)),a=n(31),o=n(7),c=n(33),l=n(35),d=n(37),u=n(39),h=n(40),p=n(19),v=n(41),f=n(42),m=n(43);e.exports=Backbone.View.extend({el:$("#listView"),template:i.template(f),templateMessage:i.template(m),tagName:"div",events:{"click .add-friend":"addFriend","click #countDown a":"_refresh","click #userEnergy":"queue","click #userHorn":function(e){var t=this,n='<form class="horn-form"><div class="horn-form">',i=t.chatmodel.get("message");for(var s in i)n+='<label data-id="'+i[s].id+'" class="list-group-item">'+i[s].value+'<input type="radio" name="message" value="'+i[s].value+'" /></label>';n+="</div></form>",r.prototype.choose=function(){var e=this;$("#d"+e.id).find("label").on("click",function(){$(this).addClass("active").siblings().removeClass("active")})};var a=new r({content:n,title:"选择喇叭",time:!1,ok:{value:"使用喇叭",fn:function(){var e=$("#d"+a.id).find("form").serializeArray();console.log(e),""!=e&&(t.socketIo.emit("horn",e),a.close())}},cancel:function(){a.close()}});a.choose()}},_refresh:function(e){$(e.target).parents("a").html('<i class="iconfont icon-shuaxin roll"></i>请求中...').addClass("disabled");var t=this;t.refrshClick&&(t.refrshClick=!1,t.getData())},_userEnergy:function(){var e=this,t=(e.userInfo.get("id"),e.userInfo.get("energy")),n="友情提示：插队能影响下次队列中的排名，倒计时结束后可以点击刷新看最新结果。";if(0!=t)var i=new r({content:'<div class="za-container"><div class=" za-alert za-alert-success">插队需要消耗能量点，您现在的能量点数'+t+'插队后会全部消耗完，请确认！</div><div class="alert-out alert-out-warning">'+n+"</div></div>",title:!1,time:1e5,ok:{value:"确定插队",fn:function(){$.ajax({url:o.queue,data:{qr:!0},method:"GET",success:function(t){e.userInfo.set("energy",0),new s({box:"#listView","class":"tips-biu text-danger energy-tips animated fadeInUp",content:"插队成功",time:2e3,css:{left:"35%",bottom:"2rem"}}),i.close()}})}},cancel:function(){i.close()}});else var a=new r({content:'<div class="za-container"><div class=" za-alert za-alert-success"><div class="text-danger">你的能量点数为0，无法插队</div></div><div class="alert-out alert-out-warning">'+n+"</div></div>",title:!1,time:!1,ok:function(){a.close()}})},queue:function(e){var t=this;return t.queueClick&&(t.queueClick=!1,$(e.target).html("请求中...").addClass("disabled"),$.ajax({url:o.queue,method:"GET",success:function(n){t.queueClick=!0,$(e.target).html("立即插队").removeClass("disabled"),0===n.qrcode?t.upLoadQcode():t._userEnergy()},error:function(n){t.queueClick=!0,$(e.target).html("立即插队").removeClass("disabled")}})),!1},upLoadQcode:function(){var e="您必须先上传二维码才能加入队列",t=new r({content:e,title:"上传二维码",close:!0,ok:{value:"立即上传",fn:function(){wx.chooseImage({count:1,success:function(e){var n=e.localIds;wx.uploadImage({localId:n[0],isShowProgressTips:1,success:function(e){var n=e.serverId;$.ajax({url:o.uploadQrcode,data:{serverId:n},method:"POST",success:function(e){if(t.close(),1===e.status)window.location="#qcode_upload";else var n=new r({content:e.info,title:!1,time:!1,ok:function(){n.close()}})}})}})}})}},cancel:{value:"从公众帐号上传",fn:function(){window.location="#jiaochen/qcode",t.close()}}})},PlusEnergy:null,addFriend:function(e){var t=this,n=e.target,i=$(n).data("qcode"),o=t.userInfo.get("id"),c=($(n).data("uid"),new Image);c.src=i,c.className="img-responsive";var l='<div class="sk-cube-grid"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div><div class="sk-cube sk-cube3"></div><div class="sk-cube sk-cube4"></div><div class="sk-cube sk-cube5"></div><div class="sk-cube sk-cube6"></div><div class="sk-cube sk-cube7"></div><div class="sk-cube sk-cube8"></div><div class="sk-cube sk-cube9"></div></div>';r.prototype.addFriend=function(){var e=this;c.onload=function(){$("#d"+e.id).find(".d-content > .d-c-p").html(c),$("#d"+e.id).find(".sk-cube-grid").remove(),e._position();var n=$("#d"+e.id+" img"),i=new a(n[0]),r=!0,s=parseInt(t.userInfo.get("energy"));i.on("press",function(){return r?void $.ajax({url:t.energy.url,data:{uid:o},method:"POST",success:function(e){t.PlusEnergy=e.energy,r=!1,d.isAdd=!0;var n=s+1;t.userInfo.set("energy",n)}}):void console.log("无法重复提交")})}},r.prototype.isAdd=!1;var d=new r({content:l,title:"长按二维码",close:!0,closeCb:function(){d.isAdd&&new s({box:"#listView","class":"tips-biu text-danger energy-tips animated fadeInUp",content:"+"+t.PlusEnergy,time:2e3,css:{left:"45%",bottom:"45%"}})}});return d.addFriend(),!1},initialize:function(){var e=this;e.queueClick=!0,e.refrshClick=!0,e.model=new h,e.userInfo=new p,e.energy=new v,e.chatmodel=new u,e.listenTo(e.model,"change",this.render),e.listenTo(e.userInfo,"sync",this._rendUser),e.listenTo(e.userInfo,"change:energy",this._rendEnergy),e.listenTo(e.model,"change:time",this._countDown)},_rendUser:function(){var e=this;e._renderQueue(),e._rendEnergy()},getData:function(){var e=this;e.userInfo.fetch(),e.model.fetch({success:function(){e.refrshClick=!0}})},_rendEnergy:function(){var e=this,t=e.userInfo.get("energy"),n=500,i=new l,r=t/n;e.$el.find("#energyView").html(i.template());var s=function(e,t){return t=t||2,(Math.round(e*Math.pow(10,t+2))/Math.pow(10,t)).toFixed(t)+"%"},a=s(r,2);return this.percent=a,$(".za-progress-bar").css({width:a}),this},_renderQueue:function(){var e=this,t=new d;return e.$el.find("#queueView").html(t.template(e.userInfo.toJSON())),e._countDown(),this},_countDown:function(){var e=this.model.get("time"),t=$("#countDown");return c(t,e),this},_renderHorn:function(){var e=this;return e.socketIo=io.connect(o.socketHorn),e.socketIo.on("connect",function(){e.socketIo.emit("login",globConfig.uid)}),e.socketIo.on("horn",function(t){e.$el.find("#listHornView").html(e.templateMessage(t))}),this},render:function(){var e=this;return e.$el.find("#listContView").html(e.template(e.model.toJSON().data)),e._renderHorn(),this}})},function(e,t){"use strict";function n(e){return this.each(function(){var t=$(this),n=t.data("bs.alert");n||t.data("bs.alert",n=new r(this)),"string"==typeof e&&n[e].call(t)})}var i='[data-dismiss="alert"]',r=function(e){$(e).on("click",i,this.close)};r.VERSION="3.3.5",r.TRANSITION_DURATION=150,r.prototype.close=function(e){function t(){s.detach().trigger("closed.bs.alert").remove()}var n=$(this),i=n.attr("data-target");i||(i=n.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var s=$(i);e&&e.preventDefault(),s.length||(s=n.closest(".za-alert")),s.trigger(e=$.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),$.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",t).emulateTransitionEnd(r.TRANSITION_DURATION):t())};var s=$.fn.alert;$.fn.alert=n,$.fn.alert.Constructor=r,$.fn.alert.noConflict=function(){return $.fn.alert=s,this},$(document).on("click.bs.alert.data-api",i,r.prototype.close),e.exports=r},function(e,t){var n=function(e){this.option={box:"body","class":"tips-biu",content:"哈哈！",time:1e3,css:null},this.option=$.extend(this.option,e),this.el=$("<div >"),this.el.addClass(this.option["class"]),this.el.html(this.option.content),this.el.css(this.option.css),this.init().timeOut()};n.prototype.timeOut=function(){var e=this;setTimeout(function(){e.el.remove()},e.option.time)},n.prototype.init=function(){return $(this.option.box).append(this.el),this},e.exports=n},function(e,t,n){var i;!function(r,s,a,o){"use strict";function c(e,t,n){return setTimeout(v(e,n),t)}function l(e,t,n){return Array.isArray(e)?(d(e,n[t],n),!0):!1}function d(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==o)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function u(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&e[i[r]]===o)&&(e[i[r]]=t[i[r]]),r++;return e}function h(e,t){return u(e,t,!0)}function p(e,t,n){var i,r=t.prototype;i=e.prototype=Object.create(r),i.constructor=e,i._super=r,n&&u(i,n)}function v(e,t){return function(){return e.apply(t,arguments)}}function f(e,t){return typeof e==ve?e.apply(t?t[0]||o:o,t):e}function m(e,t){return e===o?t:e}function g(e,t,n){d(x(t),function(t){e.addEventListener(t,n,!1)})}function b(e,t,n){d(x(t),function(t){e.removeEventListener(t,n,!1)})}function w(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function k(e,t){return e.indexOf(t)>-1}function x(e){return e.trim().split(/\s+/g)}function y(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function C(e){return Array.prototype.slice.call(e,0)}function _(e,t,n){for(var i=[],r=[],s=0;s<e.length;){var a=t?e[s][t]:e[s];y(r,a)<0&&i.push(e[s]),r[s]=a,s++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function T(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),s=0;s<he.length;){if(n=he[s],i=n?n+r:t,i in e)return i;s++}return o}function z(){return be++}function $(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function E(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){f(e.options.enable,[e])&&n.handler(t)},this.init()}function I(e){var t,n=e.options.inputClass;return new(t=n?n:xe?F:ye?U:ke?Y:j)(e,V)}function V(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,s=t&Ee&&i-r===0,a=t&(Ve|Se)&&i-r===0;n.isFirst=!!s,n.isFinal=!!a,s&&(e.session={}),n.eventType=t,S(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function S(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=A(t)),r>1&&!n.firstMultiple?n.firstMultiple=A(t):1===r&&(n.firstMultiple=!1);var s=n.firstInput,a=n.firstMultiple,o=a?a.center:s.center,c=t.center=q(i);t.timeStamp=ge(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=O(o,c),t.distance=P(o,c),M(n,t),t.offsetDirection=B(t.deltaX,t.deltaY),t.scale=a?L(a.pointers,i):1,t.rotation=a?W(a.pointers,i):0,N(n,t);var l=e.element;w(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function M(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},s=e.prevInput||{};(t.eventType===Ee||s.eventType===Ve)&&(r=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}function N(e,t){var n,i,r,s,a=e.lastInterval||t,c=t.timeStamp-a.timeStamp;if(t.eventType!=Se&&(c>$e||a.velocity===o)){var l=a.deltaX-t.deltaX,d=a.deltaY-t.deltaY,u=D(c,l,d);i=u.x,r=u.y,n=me(u.x)>me(u.y)?u.x:u.y,s=B(l,d),e.lastInterval=t}else n=a.velocity,i=a.velocityX,r=a.velocityY,s=a.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=s}function A(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:fe(e.pointers[n].clientX),clientY:fe(e.pointers[n].clientY)},n++;return{timeStamp:ge(),pointers:t,center:q(t),deltaX:e.deltaX,deltaY:e.deltaY}}function q(e){var t=e.length;if(1===t)return{x:fe(e[0].clientX),y:fe(e[0].clientY)};for(var n=0,i=0,r=0;t>r;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:fe(n/t),y:fe(i/t)}}function D(e,t,n){return{x:t/e||0,y:n/e||0}}function B(e,t){return e===t?Me:me(e)>=me(t)?e>0?Ne:Ae:t>0?qe:De}function P(e,t,n){n||(n=We);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function O(e,t,n){n||(n=We);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}function W(e,t){return O(t[1],t[0],Le)-O(e[1],e[0],Le)}function L(e,t){return P(t[0],t[1],Le)/P(e[0],e[1],Le)}function j(){this.evEl=Fe,this.evWin=Re,this.allow=!0,this.pressed=!1,E.apply(this,arguments)}function F(){this.evEl=Xe,this.evWin=Ye,E.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function R(){this.evTarget=Qe,this.evWin=Ge,this.started=!1,E.apply(this,arguments)}function H(e,t){var n=C(e.touches),i=C(e.changedTouches);return t&(Ve|Se)&&(n=_(n.concat(i),"identifier",!0)),[n,i]}function U(){this.evTarget=Ke,this.targetIds={},E.apply(this,arguments)}function X(e,t){var n=C(e.touches),i=this.targetIds;if(t&(Ee|Ie)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,s,a=C(e.changedTouches),o=[],c=this.target;if(s=n.filter(function(e){return w(e.target,c)}),t===Ee)for(r=0;r<s.length;)i[s[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&o.push(a[r]),t&(Ve|Se)&&delete i[a[r].identifier],r++;return o.length?[_(s.concat(o),"identifier",!0),o]:void 0}function Y(){E.apply(this,arguments);var e=v(this.handler,this);this.touch=new U(this.manager,e),this.mouse=new j(this.manager,e)}function J(e,t){this.manager=e,this.set(t)}function Q(e){if(k(e,st))return st;var t=k(e,at),n=k(e,ot);return t&&n?at+" "+ot:t||n?t?at:ot:k(e,rt)?rt:it}function G(e){this.id=z(),this.manager=null,this.options=h(e||{},this.defaults),this.options.enable=m(this.options.enable,!0),this.state=ct,this.simultaneous={},this.requireFail=[]}function Z(e){return e&pt?"cancel":e&ut?"end":e&dt?"move":e&lt?"start":""}function K(e){return e==De?"down":e==qe?"up":e==Ne?"left":e==Ae?"right":""}function ee(e,t){var n=t.manager;return n?n.get(e):e}function te(){G.apply(this,arguments)}function ne(){te.apply(this,arguments),this.pX=null,this.pY=null}function ie(){te.apply(this,arguments)}function re(){G.apply(this,arguments),this._timer=null,this._input=null}function se(){te.apply(this,arguments)}function ae(){te.apply(this,arguments)}function oe(){G.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ce(e,t){return t=t||{},t.recognizers=m(t.recognizers,ce.defaults.preset),new le(e,t)}function le(e,t){t=t||{},this.options=h(t,ce.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=I(this),this.touchAction=new J(this,this.options.touchAction),de(this,!0),d(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function de(e,t){var n=e.element;d(e.options.cssProps,function(e,i){n.style[T(n.style,i)]=t?e:""})}function ue(e,t){var n=s.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var he=["","webkit","moz","MS","ms","o"],pe=s.createElement("div"),ve="function",fe=Math.round,me=Math.abs,ge=Date.now,be=1,we=/mobile|tablet|ip(ad|hone|od)|android/i,ke="ontouchstart"in r,xe=T(r,"PointerEvent")!==o,ye=ke&&we.test(navigator.userAgent),Ce="touch",_e="pen",Te="mouse",ze="kinect",$e=25,Ee=1,Ie=2,Ve=4,Se=8,Me=1,Ne=2,Ae=4,qe=8,De=16,Be=Ne|Ae,Pe=qe|De,Oe=Be|Pe,We=["x","y"],Le=["clientX","clientY"];E.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g($(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b($(this.element),this.evWin,this.domHandler)}};var je={mousedown:Ee,mousemove:Ie,mouseup:Ve},Fe="mousedown",Re="mousemove mouseup";p(j,E,{handler:function(e){var t=je[e.type];t&Ee&&0===e.button&&(this.pressed=!0),t&Ie&&1!==e.which&&(t=Ve),this.pressed&&this.allow&&(t&Ve&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Te,srcEvent:e}))}});var He={pointerdown:Ee,pointermove:Ie,pointerup:Ve,pointercancel:Se,pointerout:Se},Ue={2:Ce,3:_e,4:Te,5:ze},Xe="pointerdown",Ye="pointermove pointerup pointercancel";r.MSPointerEvent&&(Xe="MSPointerDown",Ye="MSPointerMove MSPointerUp MSPointerCancel"),p(F,E,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=He[i],s=Ue[e.pointerType]||e.pointerType,a=s==Ce,o=y(t,e.pointerId,"pointerId");r&Ee&&(0===e.button||a)?0>o&&(t.push(e),o=t.length-1):r&(Ve|Se)&&(n=!0),0>o||(t[o]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:s,srcEvent:e}),n&&t.splice(o,1))}});var Je={touchstart:Ee,touchmove:Ie,touchend:Ve,touchcancel:Se},Qe="touchstart",Ge="touchstart touchmove touchend touchcancel";p(R,E,{handler:function(e){var t=Je[e.type];if(t===Ee&&(this.started=!0),this.started){var n=H.call(this,e,t);t&(Ve|Se)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Ce,srcEvent:e})}}});var Ze={touchstart:Ee,touchmove:Ie,touchend:Ve,touchcancel:Se},Ke="touchstart touchmove touchend touchcancel";p(U,E,{handler:function(e){var t=Ze[e.type],n=X.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Ce,srcEvent:e})}}),p(Y,E,{handler:function(e,t,n){var i=n.pointerType==Ce,r=n.pointerType==Te;if(i)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;t&(Ve|Se)&&(this.mouse.allow=!0),this.callback(e,t,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var et=T(pe.style,"touchAction"),tt=et!==o,nt="compute",it="auto",rt="manipulation",st="none",at="pan-x",ot="pan-y";J.prototype={set:function(e){e==nt&&(e=this.compute()),tt&&(this.manager.element.style[et]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return d(this.manager.recognizers,function(t){f(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Q(e.join(" "))},preventDefaults:function(e){if(!tt){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var i=this.actions,r=k(i,st),s=k(i,ot),a=k(i,at);return r||s&&n&Be||a&&n&Pe?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ct=1,lt=2,dt=4,ut=8,ht=ut,pt=16,vt=32;G.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(l(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ee(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return l(e,"dropRecognizeWith",this)?this:(e=ee(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(l(e,"requireFailure",this))return this;var t=this.requireFail;return e=ee(e,this),-1===y(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(l(e,"dropRequireFailure",this))return this;e=ee(e,this);var t=y(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(n.options.event+(t?Z(i):""),e)}var n=this,i=this.state;ut>i&&t(!0),t(),i>=ut&&t(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=vt)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(vt|ct)))return!1;e++}return!0},recognize:function(e){var t=u({},e);return f(this.options.enable,[this,t])?(this.state&(ht|pt|vt)&&(this.state=ct),this.state=this.process(t),void(this.state&(lt|dt|ut|pt)&&this.tryEmit(t))):(this.reset(),void(this.state=vt))},process:function(e){},getTouchAction:function(){},reset:function(){}},p(te,G,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=t&(lt|dt),r=this.attrTest(e);return i&&(n&Se||!r)?t|pt:i||r?n&Ve?t|ut:t&lt?t|dt:lt:vt}}),p(ne,te,{defaults:{event:"pan",threshold:10,pointers:1,direction:Oe},getTouchAction:function(){var e=this.options.direction,t=[];return e&Be&&t.push(ot),e&Pe&&t.push(at),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,s=e.deltaX,a=e.deltaY;return r&t.direction||(t.direction&Be?(r=0===s?Me:0>s?Ne:Ae,n=s!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?Me:0>a?qe:De,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return te.prototype.attrTest.call(this,e)&&(this.state&lt||!(this.state&lt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=K(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),p(ie,te,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[st]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&lt)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),p(re,G,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[it]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(Ve|Se)&&!r)this.reset();else if(e.eventType&Ee)this.reset(),this._timer=c(function(){this.state=ht,this.tryEmit()},t.time,this);else if(e.eventType&Ve)return ht;return vt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ht&&(e&&e.eventType&Ve?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=ge(),this.manager.emit(this.options.event,this._input)))}}),p(se,te,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[st]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&lt)}}),p(ae,te,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Be|Pe,pointers:1},getTouchAction:function(){return ne.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Be|Pe)?t=e.velocity:n&Be?t=e.velocityX:n&Pe&&(t=e.velocityY),this._super.attrTest.call(this,e)&&n&e.direction&&e.distance>this.options.threshold&&me(t)>this.options.velocity&&e.eventType&Ve},emit:function(e){var t=K(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),p(oe,G,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[rt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&Ee&&0===this.count)return this.failTimeout();if(i&&r&&n){if(e.eventType!=Ve)return this.failTimeout();var s=this.pTime?e.timeStamp-this.pTime<t.interval:!0,a=!this.pCenter||P(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,a&&s?this.count+=1:this.count=1,this._input=e;var o=this.count%t.taps;if(0===o)return this.hasRequireFailures()?(this._timer=c(function(){this.state=ht,this.tryEmit()},t.interval,this),lt):ht}return vt},failTimeout:function(){return this._timer=c(function(){this.state=vt},this.options.interval,this),vt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ht&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ce.VERSION="2.0.4",ce.defaults={domEvents:!1,touchAction:nt,enable:!0,inputTarget:null,inputClass:null,preset:[[se,{enable:!1}],[ie,{enable:!1},["rotate"]],[ae,{direction:Be}],[ne,{direction:Be},["swipe"]],[oe],[oe,{event:"doubletap",taps:2},["tap"]],[re]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ft=1,mt=2;le.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?mt:ft},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,i=this.recognizers,r=t.curRecognizer;(!r||r&&r.state&ht)&&(r=t.curRecognizer=null);for(var s=0;s<i.length;)n=i[s],t.stopped===mt||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&n.state&(lt|dt|ut)&&(r=t.curRecognizer=n),s++}},get:function(e){if(e instanceof G)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(l(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(l(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(y(t,e),1),this.touchAction.update(),this},on:function(e,t){var n=this.handlers;return d(x(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},off:function(e,t){var n=this.handlers;return d(x(e),function(e){t?n[e].splice(y(n[e],t),1):delete n[e]}),this},emit:function(e,t){this.options.domEvents&&ue(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&de(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(ce,{INPUT_START:Ee,INPUT_MOVE:Ie,INPUT_END:Ve,INPUT_CANCEL:Se,STATE_POSSIBLE:ct,STATE_BEGAN:lt,STATE_CHANGED:dt,STATE_ENDED:ut,STATE_RECOGNIZED:ht,STATE_CANCELLED:pt,STATE_FAILED:vt,DIRECTION_NONE:Me,DIRECTION_LEFT:Ne,DIRECTION_RIGHT:Ae,DIRECTION_UP:qe,DIRECTION_DOWN:De,DIRECTION_HORIZONTAL:Be,DIRECTION_VERTICAL:Pe,DIRECTION_ALL:Oe,Manager:le,Input:E,TouchAction:J,TouchInput:U,MouseInput:j,PointerEventInput:F,TouchMouseInput:Y,SingleTouchInput:R,Recognizer:G,AttrRecognizer:te,Tap:oe,Pan:ne,Swipe:ae,Pinch:ie,Rotate:se,Press:re,on:g,off:b,each:d,merge:h,extend:u,inherit:p,bindFn:v,prefixed:T}),"function"==ve&&n(32)?(i=function(){return ce}.call(t,n,t,e),!(i!==o&&(e.exports=i))):"undefined"!=typeof e&&e.exports?e.exports=ce:r[a]=ce}(window,document,"Hammer")},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){var i=n(34);e.exports=function(e,t,n){i.countDownFormat(t,function(t){var i="";t?(e.attr("disabled","disabled"),i=t+"后刷新",e.html(i)):(e.html('<a><i class="iconfont icon-shuaxin"></i></a>').removeAttr("disabled"),n&&n(e))})}},function(e,t){var n,i={},r=1;i.down=function(e,t){var s=e,t=t||function(){},a="."+r,o=!1;s>0&&(o={d:parseInt(s/24/3600),h:parseInt(s/3600%24),m:parseInt(s/60%60),s:parseInt(s%60),ms:a},0==r&&(s-=1),clearTimeout(n),n=null,n=setTimeout(function(){i.down(s,t),r--,r=0>r?1:r},500)),t(o)},i.formatTime=function(e){if(e){var t="",n=e.d?e.d:0,i=e.h?e.h:0,r=e.m?e.m:0,s=e.s?e.s:0;return r=10>r?"0"+r:r,s=10>s?"0"+s:s,t+="0"==n?"":n+"天",t+="0"==i?"":i+"时",t+="00"==r?"":r+"分",t+=s+" 秒"}return e},i.countDownFormat=function(e,t){i.down(e,function(e){var n=i.formatTime(e);t(n)})},e.exports=i},function(e,t,n){var i=n(6),r=n(36);e.exports=Backbone.View.extend({template:i.template(r),tagName:"div",initialize:function(){},render:function(e){return this}})},function(e,t){e.exports='<div class="energy">\r\n    <div class="za-progress">\r\n        <div class="za-progress-bar za-progress-bar-danger za-progress-bar-striped active" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">\r\n            <span class="sr-only">0</span>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){var i=n(6),r=n(38);e.exports=Backbone.View.extend({template:i.template(r),tagName:"div",initialize:function(){},render:function(){return this}})},function(e,t){e.exports='<div class="top-info">\r\n    <div class="za-alert za-alert-warning">\r\n        <button type="button" class="za-close" data-dismiss="alert" aria-label="Close"><span\r\n                aria-hidden="true">&times;</span></button>\r\n        <a href="#jiaochen">一分钟教你玩转爆粉大师</a>\r\n    </div>\r\n    <div class="za-alert za-alert-info text-right">\r\n        <button id="userHorn" class="za-btn za-btn-xs za-btn-primary">使用喇叭</button>\r\n        <button id="userEnergy" class="za-btn za-btn-xs za-btn-primary">立即插队</button>\r\n        <span class="pull-left"><span id="countDown"></span></span>\r\n    </div>\r\n</div>'},function(e,t,n){n(7),e.exports=Backbone.Model.extend({defaults:function(){return{sender:"张三丰test","for":"",content:'在JavaScript中，原型也是一个对象，通过原型可以实现对象的属性继承，JavaScript的对象中都包含了一个" [[Prototype]]"内部属性，这个属性所对应的就是该对象的原型。',sound:"",message:[{id:"1",value:"喇叭信息1"},{id:"2",value:"喇叭信息2"},{id:"3",value:"喇叭信息3"}]}},initialize:function(){return this},url:"http://localhost:3000/"})},function(e,t,n){var i=n(7);e.exports=Backbone.Model.extend({url:i.list,initialize:function(){return this}})},function(e,t,n){
var i=n(7);e.exports=Backbone.Model.extend({initialize:function(){return this},url:i.addEnergy})},function(e,t){e.exports='<div class="za-container">\r\n    {{? !it}}\r\n    <div class="sk-three-bounce">\r\n        <div class="sk-child sk-bounce1"></div>\r\n        <div class="sk-child sk-bounce2"></div>\r\n        <div class="sk-child sk-bounce3"></div>\r\n    </div>\r\n    {{??}}\r\n        {{ for (var key in it) { }}\r\n        <div class="za-media">\r\n            <div class="za-media-left">\r\n                <img class="media-object"\r\n                     src="{{=it[key].headimgurl}}">\r\n            </div>\r\n            <div class="za-media-body">\r\n                <b>{{=it[key].nickname}}</b>\r\n                <P>{{=it[key].desc}}</P>\r\n            </div>\r\n            <div class="za-media-right">\r\n                <img style="display: none" src="{{=it[key].qrcode}}">\r\n                <button data-uid="{{=it[key].id}}" data-qcode="{{=it[key].qrcode}}"\r\n                        class="za-btn za-btn-success add-friend">加好友\r\n                </button>\r\n            </div>\r\n        </div>\r\n        {{ } }}\r\n    {{ } }}\r\n\r\n</div>'},function(e,t){e.exports='<div class="za-media message-horn">\r\n    <div class="za-media-left">\r\n        <img class="media-object"\r\n             src="{{=it.headimgurl}}">\r\n    </div>\r\n    <div class="za-media-body">\r\n        <b>{{=it.nickname}}</b>\r\n        <P class="text-danger">{{=it.message}}&nbsp;&nbsp;<i class="iconfont icon-laba"></i></P>\r\n        <P class="text-danger">{{=it.desc}}</P>\r\n    </div>\r\n    <div class="za-media-right">\r\n        <button data-uid="{{=it.id}}" data-qcode="{{=it.qrcode}}"\r\n                class="za-btn za-btn-danger add-friend">加好友</span>\r\n        </button>\r\n    </div>\r\n</div>\r\n'},function(e,t,n){var i=n(6),r=(n(45),n(46));e.exports=Backbone.View.extend({el:"#viewMain",template:i.template(r),initialize:function(){return this},render:function(){var e=this;return e.$el.addClass("block").html(e.template()),e.$el.siblings().removeClass("block"),this}})},function(e,t,n){var i=n(7);e.exports=Backbone.Model.extend({initialize:function(){return this},url:i.tool})},function(e,t){e.exports='<div id="toolView">\r\n    <div class="tool-head">\r\n        <h2>实用工具</h2>\r\n    </div>\r\n    <div class="tool-list">\r\n        <div class="row">\r\n            <div class="col col-xs-4">\r\n                <a><!--/tool/1-->\r\n                    <span class="icon-bg icon-bg-wx">\r\n                    <span class="iconfont icon-weixin"></span>\r\n                    </span>\r\n                </a>\r\n                <div>微信多开工具<br>（即将上线）</div>\r\n            </div>\r\n            <div class="col col-xs-4">\r\n                <a><!--/tool/2-->\r\n                    <span class="icon-bg icon-bg-sd">\r\n                    <span class="iconfont icon-shandian"></span>\r\n                </span>\r\n                </a>\r\n                <div>自动杀死粉<br>（即将上线）</div>\r\n            </div>\r\n            <div class="col col-xs-4">\r\n                <a><!--/tool/3-->\r\n                    <span class="icon-bg icon-bg-tk">\r\n                        <span class="iconfont icon-tuikuan"></span>\r\n                    </span>\r\n                </a>\r\n                <div>自动抢红包<br>（即将上线）</div>\r\n            </div>\r\n            <div class="col col-xs-4">\r\n                <a><!--/tool/4-->\r\n                    <span class="icon-bg icon-bg-zh">\r\n                        <span class="iconfont icon-zhuang"></span>\r\n                    </span>\r\n                </a>\r\n                <div>装逼神器<br>（即将上线）</div>\r\n            </div>\r\n            <div class="col col-xs-4">\r\n                <a><!--/tool/5-->\r\n                    <span class="icon-bg icon-bg-jf">\r\n                        <span class="iconfont icon-jiafensi"></span>\r\n                    </span>\r\n                </a>\r\n                <div>星辰加粉<br>（即将上线）</div>\r\n            </div>\r\n            <div class="col col-xs-4">\r\n                <a><!--/tool/6-->\r\n                    <span class="icon-bg icon-bg-dw">\r\n                        <span class="iconfont icon-dingwei"></span>\r\n                    </span>\r\n                </a>\r\n                <div>伪装定位宝<br>（即将上线）</div>\r\n            </div>\r\n            <div class="col col-xs-4">\r\n                <a><!--/tool/7-->\r\n                    <span class="icon-bg icon-bg-za">\r\n                        <span class="iconfont icon-zan"></span>\r\n                    </span>\r\n                </a>\r\n                <div>狂人秒赞大师<br>（即将上线）</div>\r\n            </div>\r\n            <div class="col col-xs-4">\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){var i=n(6),r=n(45),s=n(48);e.exports=Backbone.View.extend({el:$("#viewMain"),template:i.template(s),initialize:function(){var e=this;return this.model=new r,e.listenTo(e.model,"sync",this.render),this},events:{"click .tool-head .back":function(){window.location.href="#/tool".replace(/^#+/,"#")}},render:function(){var e=this;return e.$el.addClass("block").html(e.template(this.model.toJSON())),e.$el.siblings().removeClass("block"),this}})},function(e,t){e.exports='<div id="toolDetailView">\r\n    {{? !it.name}}\r\n    <div class="sk-three-bounce">\r\n        <div class="sk-child sk-bounce1"></div>\r\n        <div class="sk-child sk-bounce2"></div>\r\n        <div class="sk-child sk-bounce3"></div>\r\n    </div>\r\n    {{??}}\r\n    <div class="tool-head">\r\n        <a class="back"><span class="iconfont icon-fanhui"></span></a>\r\n        <h2>实用工具-{{=it.name}}</h2>\r\n    </div>\r\n    <div class="za-container">\r\n        <div class="tool-detail">\r\n            <div class="row">\r\n                {{? it.des }}\r\n                <div class="col-xs-4 text-right">\r\n                    工具描述\r\n                </div>\r\n                <div class="col-xs-8">\r\n                    {{=it.des}}\r\n                </div>\r\n                {{?}}\r\n                {{? it.ntended_for }}\r\n                <div class="col-xs-4 text-right">\r\n                    适用人群\r\n                </div>\r\n                <div class="col-xs-8">\r\n                    {{=it.ntended_for}}\r\n                </div>\r\n                {{?}}\r\n                {{? it.using_method }}\r\n                <div class="col-xs-4 text-right">\r\n                    使用方法\r\n                </div>\r\n                <div class="col-xs-8">\r\n                    {{=it.using_method}}\r\n                </div>\r\n                {{?}}\r\n                {{? it.important_hints }}\r\n                <div class="col-xs-4 text-right">\r\n                    重要提示\r\n                </div>\r\n                <div class="col-xs-8">\r\n                    {{=it.important_hints}}\r\n                </div>\r\n                {{?}}\r\n            </div>\r\n            <div class="alert-out alert-out-info">\r\n                {{ for (key in it.data) { }}\r\n                <a href="{{=key}}">入口地址</a>&nbsp;\r\n                {{? it.data[key] != 0}}\r\n                密码：{{=it.data[key]}}\r\n                {{?}}\r\n                <br>\r\n                {{ } }}\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    {{ } }}\r\n</div>'},function(e,t,n){var i=n(6),r=n(50);e.exports=Backbone.View.extend({el:$("#viewMain"),template:i.template(r),tagName:"div",initialize:function(){},render:function(){var e=this;return e.$el.addClass("block").html(e.template()),this}})},function(e,t){e.exports='<div class="scroll">\r\n    <img class="img-responsive" src="{{=globConfig.imageUrl}}/1.jpg">\r\n</div>'},function(e,t,n){var i=n(6),r=(n(7),n(52)),s=n(14),a=n(53);e.exports=Backbone.View.extend({el:$("#viewMain"),template:i.template(a),tagName:"div",initialize:function(){var e=this;e.model=new r,e.listenTo(e.model,"change",this.render)},render:function(){var e=this;e.$el.html(e.template(e.model.toJSON()));var t=new s;return e.$el.append(t.render().template()),t.footBarCrent(".footer-bar a"),this}})},function(e,t,n){var i=n(7);e.exports=Backbone.Model.extend({url:i.getQrcode,initialize:function(){return this}})},function(e,t){e.exports='<div class="scroll">\r\n    {{? !it.path}}\r\n    <div class="sk-three-bounce">\r\n        <div class="sk-child sk-bounce1"></div>\r\n        <div class="sk-child sk-bounce2"></div>\r\n        <div class="sk-child sk-bounce3"></div>\r\n    </div>\r\n    {{??}}\r\n    <div class="za-container" style="padding-bottom: 4rem">\r\n        <h3>第一步</h3>\r\n        <p>长按下方图片，在弹出菜单中选择“保存图片”将图片保存到您手机上</p>\r\n        <div class="alert-out alert-out-info">\r\n            <img class="img-responsive" src="{{=it.path}}">\r\n        </div>\r\n        <p><strong>此二维码有效期至：</strong></p>\r\n        <p class="text-success">{{=it.time}};</p>\r\n        <p class="text-success">过期重新到本页面生成即可</p>\r\n        <h3>第二步</h3>\r\n        <p>将图片通过朋友圈或群发（微信工具栏里有群发功能，一次可以发150人）的方式发送给好友，好友通过此图片里二维码关注并付款后您就可以收徒弟并得到相应的佣金啦！</p>\r\n        <h3>第三步</h3>\r\n        <p>点击底部菜单“佣金制度”可查看佣金管理办法，所有的佣金都是采取即时汇款的方式汇到您的微信钱包的哦！</p>\r\n    </div>\r\n    {{?}}\r\n</div>'},function(e,t,n){var i=n(6),r=n(9),s=n(7),a=n(55),o=n(56);e.exports=Backbone.View.extend({el:$("#withdrawView"),template:i.template(o),tagName:"div",events:{"click #withdrawWay":function(){var e=new r({content:"暂时无其他提现方式",title:!1,time:!1,ok:function(){e.close()}})},"click .za-btn":"_withdraw"},_withdraw:function(){var e=this,t=e.$el.find("form"),n=parseInt(t.find('[name="cash"]').val());e._validateCash(n)&&$.ajax({url:s.withdraw,method:"POST",data:t.serialize,success:function(e){var t=new r({content:e.message,title:!1,time:!1,maskClose:!1,ok:function(){t.close(),window.location="#withdraw_list"}})}})},_validateCash:function(e){var t=this,n=/^[1-9]\d*$/,i=t.cashModel.get("integral"),r=Math.floor(i/100);return""==e?(alert("请填写金额"),!1):n.test(e)?e>r?(alert("您的余额不足"),!1):e>200?(alert("单次只能提现200元"),!1):!0:(alert("请填写正整数"),!1)},initialize:function(){var e=this;e.cashModel=new a,e.listenTo(e.cashModel,"sync",this.render)},render:function(){var e=this;return e.$el.html(e.template(e.cashModel.toJSON())),this}})},function(e,t,n){var i=n(7);e.exports=Backbone.Model.extend({initialize:function(){return this},url:i.cash})},function(e,t){e.exports='{{? !it}}\r\n<div class="sk-three-bounce">\r\n    <div class="sk-child sk-bounce1"></div>\r\n    <div class="sk-child sk-bounce2"></div>\r\n    <div class="sk-child sk-bounce3"></div>\r\n</div>\r\n{{??}}\r\n<form class="form-group">\r\n    <div id="withdrawWay" class="input-group">\r\n        <div class="form-body">\r\n            微信钱包\r\n        </div>\r\n        <div class="arrow"><i class="iconfont icon-qianjin"></i></div>\r\n    </div>\r\n    <div class="form-tip">\r\n        {{? it.type===1}}\r\n        当前可提现积分<span class="text-danger">{{= it.integral}}</span>（100积分=1元）\r\n        {{?}}\r\n    </div>\r\n    <div class="input-group">\r\n        <span class="input-group-addon">金额</span>\r\n        <input name="cash" class="form-control" placeholder="请填写金额（元）" type="num" value=""/>\r\n    </div>\r\n    <div class="form-tip">\r\n        最低限度1元，每日限额200元\r\n    </div>\r\n</form>\r\n<div class="za-container">\r\n    <button class="za-btn za-btn-info za-btn-block">申请提现</button>\r\n</div>\r\n{{ } }}'},function(e,t,n){var i=n(6),r=n(9),s=n(7),a=n(58),o=n(59);e.exports=Backbone.View.extend({el:$("#viewMain"),template:i.template(o),tagName:"div",events:{"click #upload_form .za-btn":"_upload"},_upload:function(e){var t=$("#upload_form"),n=this;if(""!=$.trim(t.find('[name="desc"]').val()))n.fistUpload&&($(e.target).html("请稍候...").addClass("disabled"),n.fistUpload=!1,$.ajax({url:s.perfectInfo,method:"POST",data:t.serialize(),success:function(t){if(n.fistUpload=!0,$(e.target).html("确定更改").removeClass("disabled"),1==t.status)var i=new r({content:"更改成功",title:!1,time:!1,ok:function(){i.close(),window.location="#list"}});if(0==t.status)var i=new r({content:"上传失败，请重试！",title:!1,time:!1,ok:function(){i.close()}})}}));else var i=new r({content:"请填写描述",title:!1,time:!1,ok:function(){i.close()}})},initialize:function(){var e=this;e.fistUpload=!0,e.model=new a,e.listenTo(e.model,"sync",this.render)},render:function(){var e=this;return e.$el.addClass("block").html(e.template(e.model.toJSON())),e.$el.siblings().removeClass("block"),this}})},function(e,t,n){var i=n(7);e.exports=Backbone.Model.extend({url:i.perfectInfo,initialize:function(){return this}})},function(e,t){e.exports='<div class="za-container">\r\n    <form id="upload_form" onSubmit="return false;">\r\n        <div class="form-group">\r\n            <div class="input-group">\r\n                <h4>二维码</h4>\r\n                <div class="row">\r\n                    {{ for ( var i in it.qrcode) { }}\r\n                    <div class="col-xs-6">\r\n                        <label for="qrcode_{{=i}}}"><img class="img-responsive" src="{{= it.qrcode[i]}}">\r\n                            <input {{? i== 1 }} checked="checked" {{?}} name="qrcode" id="qrcode_{{=i}}}" value="{{= i }}" type="radio">&nbsp;使用此图作为二维码</label>\r\n                    </div>\r\n                    {{ } }}\r\n                </div>\r\n            </div>\r\n            <div class="input-group">\r\n                <h4>描述</h4>\r\n                <textarea name="desc" rows="5" cols="40" class="form-control" placeholder="请填写描述">{{= it.desc}}</textarea>\r\n            </div>\r\n            <br>\r\n            <button class="za-btn za-btn-primary">确定更改</button>\r\n        </div>\r\n    </form>\r\n\r\n</div>\r\n'},function(e,t,n){var i=n(6),r=n(61),s=n(62);e.exports=Backbone.View.extend({el:"#viewMain",template:i.template(s),tagName:"div",initialize:function(){var e=this;this.model=new r,e.listenTo(e.model,"change",this.render)},render:function(){var e=this;return e.$el.addClass("block").html(e.template(e.model.toJSON())),e.$el.siblings().removeClass("block"),this}})},function(e,t,n){var i=n(7);e.exports=Backbone.Model.extend({initialize:function(){return this},url:i.apprentices})},function(e,t){e.exports='<div class="za-container">\r\n    {{? !it.data}}\r\n        <div class="sk-three-bounce">\r\n            <div class="sk-child sk-bounce1"></div>\r\n            <div class="sk-child sk-bounce2"></div>\r\n            <div class="sk-child sk-bounce3"></div>\r\n        </div>\r\n    {{??}}\r\n        <div class="alert-out alert-out-info"><strong>我收的徒弟</strong></div>\r\n        <div class="panel-list">\r\n            {{ for (var key in it.data) { }}\r\n            <div class="row">\r\n                <div class="col-xs-8">\r\n                    {{=it.data[key].nickname}}\r\n                </div>\r\n                <div class="col-xs-4 text-right">\r\n                    <span class="text-danger">\r\n                        {{? it.data[key].status == 1}}\r\n                        <span class="text-success">已经支付</span>\r\n                        {{?? }}\r\n\r\n                        <span class="text-danger">未支付</span>\r\n                        {{}}}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            {{ } }}\r\n            {{? it.total_count > it.list_rows }}\r\n            <div class="text-center">\r\n                <ul class="za-page">\r\n                    <li>\r\n                        <a\r\n                                {{? it.current_page == 1}}\r\n                                href="javascript:;"\r\n                                class="disabled"\r\n                                {{??}}\r\n                                href="#apprentices/{{=(parseInt(it.current_page) - 1)}}"\r\n                                {{?}} aria-label="Previous">\r\n                            <span aria-hidden="true">«</span>\r\n                        </a>\r\n                    </li>\r\n                    {{var num = (it.total_pages < 5) ? it.total_pages : 5  ; }}\r\n                    {{ for (var i=0; i < num; i++ ) { }}\r\n                    {{? (parseInt(it.current_page) + i) <= it.total_pages}}\r\n                    <li>\r\n                        <a class="{{? it.current_page == (parseInt(it.current_page) + i) }}active{{ } }}" href="#apprentices/{{=(parseInt(it.current_page) + i)}}">\r\n                            {{=(parseInt(it.current_page) + i)}}\r\n                        </a>\r\n                    </li>\r\n                    {{?}}\r\n                    {{ } }}\r\n                    <li>\r\n                        <a\r\n                                {{? it.total_pages == it.current_page}}\r\n                                href="javascript:;"\r\n                                class="disabled"\r\n                                {{??}}\r\n                                href="#apprentices/{{=(parseInt(it.current_page) + 1)}}"\r\n                                {{?}}\r\n                                aria-label="Next">\r\n                            <span aria-hidden="true">»</span>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            {{ } }}\r\n        </div>\r\n    {{ } }}\r\n</div>'},function(e,t,n){var i=n(6),r=n(9),s=n(39),a=n(64),o=n(67);e.exports=Backbone.View.extend({el:$("#viewMain"),template:i.template(o),tagName:"div",events:{"click .horn-bar":function(e){var t=this,n='<form class="horn-form"><div class="horn-form">',i=t.model.get("message");for(var s in i)n+='<label data-id="'+i[s].id+'" class="list-group-item">'+i[s].value+'<input type="radio" name="message" value="'+i[s].value+'" /></label>';n+="</div></form>",r.prototype.choose=function(){var e=this;$("#d"+e.id).find("label").on("click",function(){$(this).addClass("active").siblings().removeClass("active")})};var a=new r({content:n,title:"选择喇叭",time:!1,ok:{value:"使用喇叭",fn:function(){var e=$("#d"+a.id).find("form").serialize();""!=e&&(t.socketIo.emit("horn",{data:e}),a.close())}},cancel:function(){a.close()}});a.choose()}},initialize:function(){var e=this;e.model=new s,e.hornVeiw=new a},render:function(){var e=this;return e.$el.addClass("block").html(e.template()),e.hornVeiw.render(e.$el),e.socketIo=io.connect("http://localhost:3000/"),e.socketIo.on("horn",function(e){console.log(e)}),this}})},function(e,t,n){var i=n(6),r=(n(9),n(65)),s=n(66);e.exports=Backbone.View.extend({template:i.template(s),tagName:"div",initialize:function(){var e=this;e.hornModel=new r},render:function(e){var t=this;return e.append(t.template()),this}})},function(e,t,n){n(7),e.exports=Backbone.Model.extend({defaults:function(){return{sender:"张三丰test","for":"",content:'在JavaScript中，原型也是一个对象，通过原型可以实现对象的属性继承，JavaScript的对象中都包含了一个" [[Prototype]]"内部属性，这个属性所对应的就是该对象的原型。',sound:"",message:[{id:"1",value:"喇叭信息1"},{id:"2",value:"喇叭信息2"},{id:"3",value:"喇叭信息3"}]}},initialize:function(){return this}})},function(e,t){e.exports='<div class="tool-horn">\r\n    <div class="horn-bar">\r\n        <i class="iconfont icon-gouwuche"></i>\r\n    </div>\r\n</div>'},function(e,t){e.exports=""},function(e,t,n){var i=n(6),r=n(69);e.exports=Backbone.View.extend({el:$("#menuView"),template:i.template(r),tagName:"div",events:{"click .n-1 > a":function(e){var t=e.target;return $(t).parents(".n-1").hasClass("active")?$(t).parents(".n-1").removeClass("active"):$(t).parents(".n-1").addClass("active"),!1}},initialize:function(){},render:function(){var e=this;return e.$el.html(e.template()),this}})},function(e,t){e.exports='<div class="menu-lb">\r\n    <div class="menu-box">\r\n        <ul class="m-1">\r\n            <li class="n-1">\r\n                <a href=""><span><i class="iconfont icon-gouwuche"></i></span></a>\r\n                <ul class="m-2">\r\n                    <li class="n-2">\r\n                        <a><span><i class="iconfont icon-laba"></i></span></a>\r\n                    </li>\r\n                    <li class="n-2">\r\n                        <a><span><i class="iconfont icon-shandian"></i></span></a>\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>\r\n</body>'},function(e,t,n){var i=n(6),r=(n(9),n(7),n(71)),s=n(72);e.exports=Backbone.View.extend({el:$("#withdrawListView"),template:i.template(s),tagName:"div",events:{},initialize:function(){var e=this;e.withModel=new r,e.listenTo(e.withModel,"sync",this.render)},render:function(){var e=this;return e.$el.html(e.template(e.withModel.toJSON())),this}})},function(e,t,n){var i=n(7);e.exports=Backbone.Model.extend({initialize:function(){return this},url:i.withdrawList})},function(e,t){e.exports='{{? !it}}\r\n<div class="sk-three-bounce">\r\n    <div class="sk-child sk-bounce1"></div>\r\n    <div class="sk-child sk-bounce2"></div>\r\n    <div class="sk-child sk-bounce3"></div>\r\n</div>\r\n{{??}}\r\n<header>\r\n    <a class="back" href="#reward"><span class="iconfont icon-iconfont12"></span></a>\r\n    <h1>提现记录</h1>\r\n</header>\r\n{{ for (var key in it.data) { }}\r\n<div class="za-media">\r\n    <div class="za-media-left">\r\n        {{?it.data[key].type == parseInt(1)}}\r\n        <b>积分提现</b>\r\n        {{??it.data[key].type == parseInt(2)}}\r\n        <b>现金</b>\r\n        {{?}}\r\n    </div>\r\n    <div class="za-media-body">\r\n        <span class="text-danger">\r\n            ￥{{=it.data[key].cash}}\r\n        </span>\r\n    </div>\r\n    <div class="za-media-right">\r\n        {{?it.data[key].status == 1}}\r\n        <span class="text-success">提现成功</span>\r\n        {{??it.data[key].status == 0}}\r\n        <span class="text-danger">提现失败</span>\r\n        {{??it.data[key].status == 2}}\r\n        <span class="text-info">审核中...</span>\r\n        {{?}}\r\n        <br>\r\n        {{=it.data[key].time}}\r\n\r\n    </div>\r\n</div>\r\n{{ } }}\r\n{{? it.total_count > it.list_rows }}\r\n<div class="text-center">\r\n    <ul class="za-page">\r\n        <li>\r\n            <a   {{? it.current_page == 1}}\r\n                 href="javascript:;"\r\n                 class="disabled"\r\n                 {{??}}\r\n                 href="#withdraw_list/{{=(parseInt(it.current_page) - 1)}}"\r\n                 {{?}} aria-label="Previous">\r\n                <span aria-hidden="true">«</span>\r\n            </a>\r\n        </li>\r\n        {{var num = (it.total_pages < 5) ? it.total_pages : 5  ; }}\r\n        {{ for (var i=0; i < num; i++ ) { }}\r\n        {{? (parseInt(it.current_page) + i) <= it.total_pages}}\r\n        <li>\r\n            <a class="{{? it.current_page == (parseInt(it.current_page) + i) }}active{{ } }}" href="#withdraw_list/{{=(parseInt(it.current_page) + i)}}">\r\n                {{=(parseInt(it.current_page) + i)}}\r\n            </a>\r\n        </li>\r\n        {{?}}\r\n        {{ } }}\r\n        <li>\r\n            <a {{? it.total_pages == it.current_page}}\r\n               href="javascript:;"\r\n               class="disabled"\r\n               {{??}}\r\n               href="#withdraw_list/{{=(parseInt(it.current_page) + 1)}}"\r\n               {{?}}\r\n               aria-label="Next">\r\n                <span aria-hidden="true">»</span>\r\n            </a>\r\n        </li>\r\n    </ul>\r\n</div>\r\n{{ } }}\r\n{{ } }}'},function(e,t,n){var i=n(6),r=(n(9),n(7),n(15)),s=n(74),a=n(23);e.exports=Backbone.View.extend({el:$("#rankView"),template:i.template(a),tagName:"div",events:{},initialize:function(){var e=this;e.rankModel=new s,e.listenTo(e.rankModel,"sync",this.render)},render:function(){var e=this;return e.$el.html(e.template(e.rankModel.toJSON())),r(".za-nav a"),this}})},function(e,t,n){var i=n(7);e.exports=Backbone.Model.extend({initialize:function(){return this},url:i.rank})},function(e,t,n){var i=n(6),r=n(76),s=n(69);e.exports=Backbone.View.extend({el:$("#publicView"),template:i.template(s),tagName:"div",initialize:function(){var e=this;e.model=new r,e.listenTo(e.model,"sync",e.render)},render:function(){var e=this;return e.$el.html(e.template(e.model.toJSON())),this}})},function(e,t,n){var i=n(7);e.exports=Backbone.Model.extend({url:i.official_accounts,initialize:function(){return this}})},function(e,t,n){var i=n(6),r=n(78);e.exports=Backbone.View.extend({el:$("#publicView"),template:i.template(r),tagName:"div",initialize:function(){},render:function(){var e=this;return e.$el.html(e.template()),this}})},function(e,t){e.exports=""},function(e,t,n){var i=n(6),r=n(9),s=n(80),a=n(81),o=n(15),c=n(82),l=n(83);e.exports=Backbone.View.extend({el:$("#placardView"),template:i.template(c),templateRank:i.template(l),tagName:"div",events:{"click .icon-wenhao":function(){var e='<div class="alert-out alert-out-info"><span class="text-danger">若可提现金额小于提现额度不能提现</span><br>1、必须满足积分超过100分，即最低1元方可提现；<br>2、推广的好友关注公众号即可获得一个积分红包；<br>3、可提现结算周期为24小时，即指第二次提现申请与第一次提现申请需间隔24小时；<br>4、您可自主提现，提现金额转到微信零钱；<br>5、爆粉大师拥有本活动最终解释权</div>',t=new r({title:"积分说明",content:e,ok:function(){t.close()}})}},initialize:function(){var e=this;e.placardModel=new s,e.cashModel=new a,e.listenTo(e.placardModel,"sync",this._renderRank),e.listenTo(e.cashModel,"sync",this.render)},_renderRank:function(){var e=this;e.$el.find(".rankView").html(e.templateRank(e.placardModel.toJSON())),o(".za-nav a")},render:function(){var e=this;return e.$el.find(".bannerView").html(e.template(e.cashModel.toJSON())),this}})},function(e,t,n){var i=n(7);e.exports=Backbone.Model.extend({initialize:function(){return this},url:i.placard_cash})},function(e,t,n){var i=n(7);e.exports=Backbone.Model.extend({url:i.placard_rank,initialize:function(){return this}})},function(e,t){e.exports='<div class="img-placard">\r\n    <div class="inner">\r\n        <img class="img-responsive text" src="{{=globConfig.imageUrl}}/text_img.png" alt=""/>\r\n    </div>\r\n    <img class="img-responsive" src="{{=globConfig.imageUrl}}/haibao_banner.jpg" alt=""/>\r\n</div>\r\n<div class="za-container">\r\n    <h3>第一步</h3>\r\n    <p>长按下方图片，在弹出菜单中选择“保存图片”将图片保存到您手机上</p>\r\n    <div class="alert-out alert-out-info">\r\n        <img class="img-responsive" src="{{=globConfig.imageUrl}}/{{=it.qrcode}}">\r\n    </div>\r\n    <h3>第二步</h3>\r\n    <p>将图片通过朋友圈或群发（微信工具栏里有群发功能，一次可以发150人）的方式发送给好友，好友通过此图片里二维码关注公众号后，点击进入游戏页面输入您的接头暗号，您将随机获得数量5~10不等的积分</p>\r\n    <h3>第三步</h3>\r\n    <p>积满100积分可兑换1元现金，即可点击提现，满百整兑，以此类推。</p>\r\n</div>\r\n\r\n\r\n<div class="footer-line">\r\n    <span class="pull-right"><a class="za-btn za-btn-danger" href="#withdraw">提现</a></span>\r\n    我的积分：{{=it.integral}} <span class="icon-wenhao">?</span>\r\n</div>'},function(e,t){e.exports='{{? !it}}\r\n<div class="sk-three-bounce">\r\n    <div class="sk-child sk-bounce1"></div>\r\n    <div class="sk-child sk-bounce2"></div>\r\n    <div class="sk-child sk-bounce3"></div>\r\n</div>\r\n{{??}}\r\n<nav class="za-nav">\r\n    <a href="#/placard/myteam"><span>我的团</span></a>\r\n    <a href="#/placard/all"><span>所有排名</span></a>\r\n</nav>\r\n{{ for (var key in it.data) { }}\r\n<div class="za-media">\r\n    <div class="za-media-left">\r\n        <img class="media-object"\r\n             src="{{=it.data[key].headimgurl}}">\r\n    </div>\r\n    <div class="za-media-body">\r\n        <h4>{{=it.data[key].nickname}}</h4>\r\n\r\n        <p class="time-info">入团时间：{{=it.data[key].join_time}}</p>\r\n    </div>\r\n    <div class="za-media-right">\r\n        <div class="text-right text-danger">\r\n            {{? it.group == \'myteam\'}}贡献{{?}}\r\n        {{=it.data[key].integral}}\r\n        </div>\r\n    </div>\r\n</div>\r\n{{ } }}\r\n{{ } }}'},function(e,t,n){var i=n(6),r=(n(9),n(7)),s=n(85);e.exports=Backbone.View.extend({el:"#placardWelcomeView",template:i.template(s),tagName:"div",events:{"click .za-btn":function(){var e=this,t=e.$el.find("form");return""==$.trim(t.find('[name="secret_code"]').val())?void alert("请填写暗号"):void $.ajax({url:r.secret_code,method:"POST",data:t.serialize(),success:function(e){}})}},initialize:function(){},render:function(){var e=this;return e.$el.html(e.template()),this}})},function(e,t){e.exports='<div class="img-welcome">\r\n    <img class="img-responsive" src="{{=globConfig.imageUrl}}/haibao_bg.jpg">\r\n    <div class="inner">\r\n        <form class="form-group form-welcome">\r\n            <h3>请输入接头暗号</h3>\r\n            <div>\r\n                <input name="secret_code" class="form-control" type="text" placeholder="请输入暗号">\r\n                <input name="type" class="form-control" type="hidden" value="1">\r\n            </div>\r\n        </form>\r\n        <button class="za-btn za-btn-block za-btn-primary">立即参加</button>\r\n    </div>\r\n</div>'}]);